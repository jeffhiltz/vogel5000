<?xml version="1.0" encoding="utf-8" ?>
<svg id="drawing" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" >
  <script type="text/javascript" xlink:href="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.7.1/svg.min.js"></script>
  <script type="text/javascript">
    <![CDATA[
      const xresources = `
        ! special
        *.foreground:   #dfdab7
        *.background:   #2a1e1d
        *.cursorColor:  #dfdab7

        ! black
        *.color0:       #573d25
        *.color8:       #9a6b49

        ! red
        *.color1:       #c33027
        *.color9:       #df5f00

        ! green
        *.color2:       #6ba08a
        *.color10:      #94d7ba

        ! yellow
        *.color3:       #e99c29
        *.color11:      #edb54b

        ! blue
        *.color4:       #6298c4
        *.color12:      #7ab8eb

        ! magenta
        *.color5:       #ab80a6
        *.color13:      #d09dca

        ! cyan
        *.color6:       #33859d
        *.color14:      #599caa

        ! white
        *.color7:       #dfdab7
        *.color15:      #fff9d4
      `

      const xcolors = {}
      const regex = /(background|foreground|color[0-9]{1,2}):\s*(#[A-Fa-f0-9]{6})/g
      let result
      while ((result = regex.exec(xresources)) !== null) {
        xcolors[result[1]] = result[2]
      }

      const draw = SVG('drawing')
      draw.rect(1100, 200).fill(xcolors.background)
      let xPos = 20
      let yPos = 40

      function drawColor(name, value) {
        draw.rect(100, 50).fill(value).move(xPos, yPos)
        draw.text(name).y(yPos - 20).cx(xPos + 50).fill(value)
        draw.text(value).y(yPos + 15).cx(xPos + 50).fill(xcolors['background'])
        if (xPos >= 960) {
          xPos = 20
          yPos += 90
        } else {
          xPos += 120
        }
      }

      drawColor('foreground', xcolors['foreground'])
      for (let i = 0; i < 8; i++) {
        const key = `color${i}`
        drawColor(key, xcolors[key])
      }
      drawColor('background', xcolors['background'])
      for (let i = 8; i < 16; i++) {
        const key = `color${i}`
        drawColor(key, xcolors[key])
      }
    ]]>
  </script>
</svg>

